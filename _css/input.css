@import "tailwindcss";
@plugin "@tailwindcss/typography";

@font-face {
  font-family: 'PP Formula';
  src: url('../assets/fonts/pp-formula-semiextendedbold.woff2') format('woff2');
  font-weight: 700;
  font-style: normal;
  font-display: swap;
}

@font-face {
  font-family: 'Inter';
  src: url('../assets/fonts/InterVariable.woff2') format('woff2-variations');
  font-weight: 100 900;
  font-style: normal;
  font-display: swap;
  font-feature-settings: "cv01", "cv02", "cv03", "cv04", "cv05", "cv06", "cv07", "cv08", "cv09", "cv10", "cv11";
}

@font-face {
  font-family: 'Inter';
  src: url('../assets/fonts/InterVariable-Italic.woff2') format('woff2-variations');
  font-weight: 100 900;
  font-style: italic;
  font-display: swap;
  font-feature-settings: "cv01", "cv02", "cv03", "cv04", "cv05", "cv06", "cv07", "cv08", "cv09", "cv10", "cv11";
}

@theme {
  --font-display: "PP Formula", sans-serif;
  --font-sans: "Inter", sans-serif;
  --color-saints-black: #231f20;
  --color-saints-white: #f7f6f3;
  
  /* Saints Accent Color Scale (OKLCH) - Calibrated to Tailwind patterns */
  --color-saints-50: oklch(97.8% 0.008 128.2);
  --color-saints-100: oklch(95.1% 0.018 128.4);
  --color-saints-200: oklch(90.2% 0.032 128.6);
  --color-saints-300: oklch(83.1% 0.048 128.8);
  --color-saints-400: oklch(73.8% 0.062 129.0);
  --color-saints-500: oklch(58.2% 0.054 129.1); /* Base saints accent */
  --color-saints-600: oklch(47.9% 0.047 129.2);
  --color-saints-700: oklch(39.4% 0.041 129.0);
  --color-saints-800: oklch(32.1% 0.035 128.8);
  --color-saints-900: oklch(26.8% 0.028 128.6);
  --color-saints-950: oklch(16.2% 0.018 128.4);
  
  --smooth-bezier: cubic-bezier(0.4, 0.01, 0.165, 0.99);
  --ease-smooth: cubic-bezier(0.4, 0.01, 0.165, 0.99);
  --ease-spring: cubic-bezier(0.175, 0.885, 0.32, 1.275);
  --ease-gentle: cubic-bezier(0.25, 0.1, 0.25, 1);
  --ease-bounce: cubic-bezier(0.68, -0.55, 0.265, 1.55);
  
  /* Standard spacing unit for consistent button sizing */
  --spacing: 0.25rem;
}


@keyframes fadeInUp {
  0% {
    opacity: 0;
    transform: translate3d(0, var(--translate-y), 0);
  }
  65% {
    opacity: 1;
  }
  100% {
    opacity: 1;
    transform: translate3d(0, 0, 0);
  }
}

@keyframes slideUp {
  0% {
    opacity: 0;
    transform: translate3d(0, 1.5rem, 0) scale(0.95);
  }
  100% {
    opacity: 1;
    transform: translate3d(0, 0, 0) scale(1);
  }
}

@keyframes scaleIn {
  0% {
    opacity: 0;
    transform: scale(0.9);
  }
  100% {
    opacity: 1;
    transform: scale(1);
  }
}

@keyframes shimmer {
  0% {
    background-position: -200% 0;
  }
  100% {
    background-position: 200% 0;
  }
}

@keyframes pulse-gentle {
  0%, 100% {
    opacity: 1;
    transform: scale(1);
  }
  50% {
    opacity: 0.8;
    transform: scale(1.02);
  }
}

@keyframes fadeInRight {
  0% {
    opacity: 0;
    transform: translate3d(var(--translate-x), 0, 0);
  }
  65% {
    opacity: 1;
  }
  100% {
    opacity: 1;
    transform: translate3d(0, 0, 0);
  }
}

@keyframes fadeInUpHero {
  from {
    opacity: 0;
    transform: translate3d(0, 8px, 0);
  }
  to {
    opacity: 1;
    transform: translate3d(0, 0, 0);
  }
}

@keyframes fadeIn {
  from {
    opacity: 0;
  }
  to {
    opacity: 1;
  }
}

@keyframes fadeInHero {
  from {
    opacity: 0;
  }
  to {
    opacity: 1;
  }
}

.animate-reveal {
  --delay: 0s;
  --duration: 0.9s;
  --translate-y: 1rem;
  @apply opacity-0;
  animation-name: fadeInUp;
  animation-duration: var(--duration);
  animation-timing-function: var(--smooth-bezier);
  animation-delay: var(--delay);
  animation-iteration-count: 1;
  animation-fill-mode: both;
  animation-play-state: paused;
}

.animate-reveal.run {
  animation-play-state: running;
}

.animate-children .child,.animate-children .child-x {
  --delay: 0s;
  --duration: 0.9s;
  --translate-y: 1rem;
  @apply opacity-0;
  animation-name: fadeInUp;
  animation-duration: var(--duration);
  animation-timing-function: var(--smooth-bezier);
  animation-delay: var(--delay);
  animation-iteration-count: 1;
  animation-fill-mode: both;
  animation-play-state: paused;
  text-rendering: geometricPrecision;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

.animate-children .child-x {

  --translate-x: 1rem;
  animation-name: fadeInRight;
  animation-timing-function: var(--smooth-bezier);
}

.animate-children.run .child, .animate-children.run .child-x {
  animation-play-state: running;
}

.animate-fade-in {
  --delay: 0s;
  --duration: 0.9s;
  @apply opacity-0;
  animation-name: fadeIn;
  animation-duration: var(--duration);
  animation-timing-function: var(--smooth-bezier);
  animation-delay: var(--delay);
  animation-iteration-count: 1;
  animation-fill-mode: both;
  animation-play-state: paused;
}

.animate-fade-in.run {
  animation-play-state: running;
}

.animate-hero-fade {
  --delay: 0s;
  --duration: 0.9s;
  @apply opacity-0;
  animation-name: fadeInHero;
  animation-duration: var(--duration);
  animation-timing-function: var(--smooth-bezier);
  animation-delay: var(--delay);
  animation-iteration-count: 1;
  animation-fill-mode: both;
}

.animate-hero-up {
  --delay: 0s;
  --duration: 0.9s;
  @apply opacity-0;
  animation-name: fadeInUpHero;
  animation-duration: var(--duration);
  animation-timing-function: var(--smooth-bezier);
  animation-delay: var(--delay);
  animation-iteration-count: 1;
  animation-fill-mode: both;
}


button:focus-visible,
a:focus-visible,
[role="button"]:focus-visible {
  @apply outline-2 outline-transparent outline-offset-2 transition-shadow duration-200;
  box-shadow: 0 0 0 2px rgba(79, 70, 229, 0.6);
  transition-timing-function: var(--smooth-bezier);
}

@media (prefers-color-scheme: dark) {
  .enhanced-contrast {
    --text-primary: #ffffff;
    --text-secondary: #e5e7eb;
    --text-muted: #9ca3af;
  }
}

@media (hover: none) and (pointer: coarse) {
  :root {
    --animation-fast: 0.15s;
    --animation-normal: 0.25s;
    --animation-reveal: 0.35s;
    --animation-hero: 0.28s;
  }

  /* Enhanced touch interactions */
  .hover-lift:active,
  .hover-scale:active,
  .interactive-element:active,
  .audio-control-btn:active,
  .platform-btn:active,
  button:active,
  [role="button"]:active {
    @apply scale-95 transition-transform duration-150;
    transition-timing-function: var(--smooth-bezier);
  }

  .sermon-card:active {
    @apply scale-98 transition-transform duration-150;
    transition-timing-function: var(--smooth-bezier);
  }

  /* Disable hover effects on touch devices */
  .hover-lift:hover,
  .hover-scale:hover,
  .text-hover-lift:hover,
  .hover-shimmer:hover,
  .interactive-element:hover,
  .audio-control-btn:hover,
  .platform-btn:hover {
    @apply transform-none;
  }

  .hover-shimmer:hover::before {
    @apply -translate-x-full;
  }

  /* Optimize animations for mobile */
  .animate-reveal,
  .animate-fade-in,
  .animate-hero-fade,
  .animate-hero-up,
  .animate-slide-up,
  .animate-scale-in {
    @apply transform-gpu;
    backface-visibility: hidden;
    perspective: 1000px;
  }

  /* Enhanced touch targets */
  .audio-control-btn,
  .platform-btn {
    @apply min-h-11 min-w-11;
  }

  /* Improved spacing for touch */
  .sermon-card {
    @apply p-6 mb-2;
  }

  /* Better progress bar for touch */
  .progress-bar {
    @apply h-4 rounded-lg;
  }

  .progress-handle {
    @apply size-5;
  }
}

@media (prefers-reduced-motion: reduce) {
  .will-animate,
  .hover-lift,
  .hover-scale,
  .smooth-focus,
  .animate-reveal,
  .animate-fade-in,
  .modal-backdrop,
  .modal-content,
  .focus-ring,
  .text-hover-lift {
    animation: none;
    transition: none;
  }

  .hover-lift:hover,
  .hover-scale:hover,
  .text-hover-lift:hover {
    transform: none;
  }

  .modal-content {
    @apply transform-none opacity-100;
  }
}

/* Clean Typography - Simple, elegant hierarchy */

/* Refined sermon card styles with perfect proportions and enhanced interactions */
.sermon-card {
  @apply relative h-full w-full rounded-xl bg-white p-7 transition-all duration-300 ease-out dark:bg-stone-900;
  shadow: 0px 0px 0px 1px rgba(9,9,11,0.07), 0px 2px 2px 0px rgba(9,9,11,0.05);
}

.sermon-card::before {
  @apply dark:pointer-events-none dark:absolute dark:rounded-xl dark:content-[''];
  inset: -1px;
  box-shadow: 0px 2px 8px 0px rgba(0,0,0,0.20), 0px 1px 0px 0px rgba(255,255,255,0.06) inset;
}

@media (prefers-color-scheme: dark) {
  .sermon-card {
    box-shadow: 0px 0px 0px 1px rgba(255,255,255,0.1);
  }
}


.sermon-card:hover {
  @apply border-saints-500/30 dark:border-saints-400/30;
}

.sermon-card-content {
  @apply flex flex-col h-full;
}

.sermon-card-title {
  @apply font-display font-bold text-stone-900 dark:text-white text-lg leading-tight mb-5 line-clamp-3;
  font-weight: 700;
  letter-spacing: -0.01em;
  line-height: 1.3;
}

.sermon-scripture {
  @apply text-sm font-bold text-saints-600 dark:text-saints-400 mb-6 tracking-wide;
  font-weight: 600;
  letter-spacing: 0.025em;
}

.sermon-meta {
  @apply text-xs text-stone-500 dark:text-stone-400 font-semibold mt-auto;
  font-weight: 600;
  letter-spacing: 0.025em;
}

/* Featured sermon styles with enhanced visual depth */
.featured-sermon {
  @apply relative;
}


.body-text {
  @apply text-stone-600 dark:text-stone-300;
}

/* Editorial spacing and typography classes for consistent hierarchy */
.editorial-spacing {
  @apply flex flex-col gap-6;
}

.editorial-section {
  @apply text-lg font-semibold font-display text-stone-900 dark:text-white leading-tight;
}

.editorial-scripture-small {
  @apply text-sm font-medium text-saints-600 dark:text-saints-400;
}

.editorial-meta-small {
  @apply text-sm text-stone-600 dark:text-stone-400 font-medium;
}

.editorial-separator {
  @apply mx-1 text-stone-400 dark:text-stone-500;
}

.body-text-muted {
  @apply text-stone-700 dark:text-stone-400;
}

/* Enhanced animation classes for refined interactions */
.animate-slide-up {
  --delay: 0s;
  --duration: 0.6s;
  @apply opacity-0;
  animation-name: slideUp;
  animation-duration: var(--duration);
  animation-timing-function: var(--ease-gentle);
  animation-delay: var(--delay);
  animation-iteration-count: 1;
  animation-fill-mode: both;
  animation-play-state: paused;
}

.animate-slide-up.run {
  animation-play-state: running;
}

.animate-scale-in {
  --delay: 0s;
  --duration: 0.5s;
  @apply opacity-0;
  animation-name: scaleIn;
  animation-duration: var(--duration);
  animation-timing-function: var(--ease-spring);
  animation-delay: var(--delay);
  animation-iteration-count: 1;
  animation-fill-mode: both;
  animation-play-state: paused;
}

.animate-scale-in.run {
  animation-play-state: running;
}

/* Interactive hover effects with micro-animations */
.hover-lift-gentle {
  @apply transition-all duration-300 ease-out;
}

.hover-lift-gentle:hover {
  @apply -translate-y-1;
}

.hover-shimmer {
  @apply relative overflow-hidden;
}

.hover-shimmer::before {
  content: '';
  @apply absolute inset-0 bg-gradient-to-r from-transparent via-white/20 to-transparent dark:via-white/10 -translate-x-full transition-transform duration-[600ms] ease-out;
  background-size: 200% 100%;
}

.hover-shimmer:hover::before {
  @apply translate-x-full;
}

/* Enhanced button and link interactions */
.interactive-element {
  @apply transition-all duration-300 ease-out;
}

.interactive-element:hover {

}

.interactive-element:active {

}

/* Audio player specific animations */
.audio-control-btn {
  @apply transition-all duration-300 ease-out;
}

.audio-control-btn:hover {

}

.audio-control-btn:active {

}

/* Progress bar enhancements */
.progress-enhance {
  @apply relative overflow-hidden;
}

.progress-enhance::before {
  content: '';
  @apply absolute inset-0 bg-gradient-to-r from-transparent via-white/30 to-transparent opacity-0 transition-opacity duration-300 ease-out;
  animation: shimmer 2s infinite;
}

.progress-enhance.loading::before {
  @apply opacity-100;
}

/* Podcast platform button enhancements */
.platform-btn {
  @apply transition-all duration-300 ease-out;
}


.platform-btn:hover {
  @apply border-saints-500/40 dark:border-saints-400/40;
}

/* Sermon page specific styles */
.sermon-page-bg {
  @apply bg-saints-100 dark:bg-stone-900 min-h-screen max-w-4xl mx-auto px-6 py-12 sm:py-16;
}

.sermon-content {
  @apply relative h-full w-full rounded-2xl bg-white p-8 sm:p-12 mb-8 dark:bg-stone-900;
  box-shadow: 0px 0px 0px 1px rgba(9,9,11,0.07), 0px 2px 2px 0px rgba(9,9,11,0.05);
}

.sermon-content::before {
  @apply dark:pointer-events-none dark:absolute dark:rounded-2xl dark:content-[''];
  inset: -1px;
  box-shadow: 0px 2px 8px 0px rgba(0,0,0,0.20), 0px 1px 0px 0px rgba(255,255,255,0.06) inset;
}

@media (prefers-color-scheme: dark) {
  .sermon-content {
    box-shadow: 0px 0px 0px 1px rgba(255,255,255,0.1);
  }
}

.sermon-description {
  @apply prose prose-lg dark:prose-invert max-w-none prose-headings:font-display prose-headings:text-saints-black dark:prose-headings:text-white prose-p:text-stone-700 dark:prose-p:text-stone-300 prose-a:text-saints-600 dark:prose-a:text-saints-400 prose-strong:text-saints-700 dark:prose-strong:text-saints-300;
}

.sermons-index-bg {
  @apply bg-saints-100 dark:bg-stone-900 min-h-screen;
}

.sermons-grid {
  @apply grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-12;
}

.featured-sermon-container {
  @apply relative h-full w-full rounded-2xl bg-white p-8 sm:p-12 mb-16 dark:bg-stone-900;
  box-shadow: 0px 0px 0px 1px rgba(9,9,11,0.07), 0px 2px 2px 0px rgba(9,9,11,0.05);
}

.featured-sermon-container::before {
  @apply dark:pointer-events-none dark:absolute dark:rounded-2xl dark:content-[''];
  inset: -1px;
  box-shadow: 0px 2px 8px 0px rgba(0,0,0,0.20), 0px 1px 0px 0px rgba(255,255,255,0.06) inset;
}

@media (prefers-color-scheme: dark) {
  .featured-sermon-container {
    box-shadow: 0px 0px 0px 1px rgba(255,255,255,0.1);
  }
}

/* Audio Player Styles */
input.audio-scrubber {
  @apply bg-transparent cursor-pointer;
  appearance: none;
  -webkit-appearance: none;
}

/* Hide the default track - we use custom background */
input.audio-scrubber::-webkit-slider-track {
  @apply bg-transparent border-none h-1.5;
}

input.audio-scrubber::-moz-range-track {
  @apply bg-transparent border-none h-1.5;
}

input.audio-scrubber::-moz-range-progress {
  @apply bg-transparent;
}

/* Thumb/handle styling - always visible and properly centered */
input.audio-scrubber::-webkit-slider-thumb {
  @apply size-4 rounded-full cursor-pointer border-2 border-white opacity-100 transition-transform duration-200 ease-out shadow-sm;
  appearance: none;
  -webkit-appearance: none;
  background: oklch(58.2% 0.054 129.1); /* saints-500 */
  margin-top: -5px; /* Center vertically relative to track */
}

input.audio-scrubber::-moz-range-thumb {
  @apply size-4 rounded-full cursor-pointer border-2 border-white opacity-100 transition-transform duration-200 ease-out shadow-sm;
  background: oklch(58.2% 0.054 129.1); /* saints-500 */
}

/* Hover effects */
input.audio-scrubber:hover::-webkit-slider-thumb {
  @apply scale-110;
}

input.audio-scrubber:hover::-moz-range-thumb {
  @apply scale-110;
}

/* Active/focused effects */
input.audio-scrubber:active::-webkit-slider-thumb {
  @apply scale-125;
}

input.audio-scrubber:active::-moz-range-thumb {
  @apply scale-125;
}

/* Sermon Card Background Variations */
/* Use nth-child on the parent containers to create different rotations */

/* Card 1, 5, 9, etc. - subtle positive rotation */
.group:nth-child(4n+1) .sermon-card-bg-1 {
  @apply rotate-1 -translate-y-2;
}
.group:nth-child(4n+1):hover .sermon-card-bg-1 {
  @apply rotate-2 -translate-y-3 -translate-x-1;
}

.group:nth-child(4n+1) .sermon-card-bg-2 {
  @apply -rotate-2 translate-y-2;
}
.group:nth-child(4n+1):hover .sermon-card-bg-2 {
  @apply -rotate-3 translate-y-1 -translate-x-1;
}

/* Card 2, 6, 10, etc. - larger positive rotation */
.group:nth-child(4n+2) .sermon-card-bg-1 {
  @apply rotate-2 -translate-y-2;
}
.group:nth-child(4n+2):hover .sermon-card-bg-1 {
  @apply rotate-3 -translate-y-3 -translate-x-1;
}

.group:nth-child(4n+2) .sermon-card-bg-2 {
  @apply -rotate-1 translate-y-2;
}
.group:nth-child(4n+2):hover .sermon-card-bg-2 {
  @apply -rotate-2 translate-y-1 -translate-x-1;
}

/* Card 3, 7, 11, etc. - negative rotation */
.group:nth-child(4n+3) .sermon-card-bg-1 {
  @apply -rotate-1 -translate-y-2;
}
.group:nth-child(4n+3):hover .sermon-card-bg-1 {
  @apply -rotate-2 -translate-y-3 -translate-x-1;
}

.group:nth-child(4n+3) .sermon-card-bg-2 {
  @apply rotate-3 translate-y-2;
}
.group:nth-child(4n+3):hover .sermon-card-bg-2 {
  @apply rotate-4 translate-y-1 -translate-x-1;
}

/* Card 4, 8, 12, etc. - mixed rotation */
.group:nth-child(4n) .sermon-card-bg-1 {
  @apply rotate-3 -translate-y-2;
}
.group:nth-child(4n):hover .sermon-card-bg-1 {
  @apply rotate-4 -translate-y-3 -translate-x-1;
}

.group:nth-child(4n) .sermon-card-bg-2 {
  @apply -rotate-3 translate-y-2;
}
.group:nth-child(4n):hover .sermon-card-bg-2 {
  @apply -rotate-4 translate-y-1 -translate-x-1;
}

